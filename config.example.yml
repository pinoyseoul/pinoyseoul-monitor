# This is the central configuration file for the PinoySeoul Monitoring service.

# -----------------------------------------------------------------------------
# General Settings
# -----------------------------------------------------------------------------
general:
  # The local timezone for the monitor. This ensures that scheduled reports
  # are sent at the correct local time, regardless of the server's timezone.
  # A list of valid timezones can be found here: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  timezone: "Asia/Manila"

# -----------------------------------------------------------------------------
# Google Chat Integration
# -----------------------------------------------------------------------------
google_chat:
  # The webhook URL for the Google Chat room where alerts will be sent.
  # The value "${...}" will be loaded from the corresponding environment variable.
  webhook_url: "${GOOGLE_CHAT_WEBHOOK_URL}"

# -----------------------------------------------------------------------------
# Monitoring Schedules
# Defines how frequently checks are run and when summaries are sent.
# Note: The application logic will need to be updated to use these schedules.
# -----------------------------------------------------------------------------
schedule:
  # How often to check Docker container health, in minutes.
  docker_check_minutes: 5
  # How often to check SSL certificates, in hours.
  ssl_check_hours: 24
  # How often to check the backup status, in hours.
  backup_check_hours: 24
  # What time to send the daily summary report.
  # Use 24-hour format. Timezone is handled by the server (e.g., set to Manila time).
  daily_summary_time: "09:00"

# -----------------------------------------------------------------------------
# Docker Monitoring
# -----------------------------------------------------------------------------
docker:
  enabled: true
  # Maps technical container names to user-friendly names for clear alerts.
  container_name_mapping:
    azuracast: "Radio Platform"
    azuracast_web: "Radio Platform - Website"
    azuracast_stations: "Radio Platform - Streaming"
    azuracast_mariadb: "Radio Platform - Database"
    azuracast_redis: "Radio Platform - Cache"
    kimai: "Kimai Time Tracking"
    kimai_db: "Kimai Database"
    docuseal: "DocuSeal Document System"
    docuseal_db: "DocuSeal Database"
    wekan: "Wekan Project Board"
    wekan_db: "Wekan Database"
    dolibarr: "Dolibarr CRM"
    dolibarr_db: "Dolibarr Database"
    npm: "Nginx Proxy Manager"
    portainer: "Portainer Admin Panel"

# -----------------------------------------------------------------------------
# SSL Certificate Monitoring
# -----------------------------------------------------------------------------
ssl:
  enabled: true
  # A list of all public-facing domains to monitor.
  domains:
    - pinoyseoul.com
    - radio.pinoyseoul.com
    - admin.pinoyseoul.com
    - office.pinoyseoul.com
    - time.pinoyseoul.com
    - projects.pinoyseoul.com
    - legal.pinoyseoul.com
  # Define the number of days before expiry to trigger alerts.
  alert_days:
    critical: 7
    warning: 30

# -----------------------------------------------------------------------------
# Backup Monitoring
# -----------------------------------------------------------------------------
backup:
  enabled: true
  # The absolute path to the rclone log file generated by your backup script.
  log_path: "/home/pinoyseoul/backups/rclone_backup.log"
  # The directory where local backup archives are stored (for potential future checks).
  backup_dir: "/home/pinoyseoul/backups"
  # The minimum acceptable size for a backup in Megabytes (MB).
  # If a backup is smaller than this, a CRITICAL alert will be sent.
  min_size_mb: 50
  # The maximum age of the latest backup log entry in hours.
  max_age_hours: 25

# -----------------------------------------------------------------------------
# AzuraCast Monitoring
# -----------------------------------------------------------------------------
azuracast:
  enabled: true
  # The base URL for your AzuraCast API (e.g., https://radio.pinoyseoul.com/api)
  api_base_url: "https://radio.pinoyseoul.com/api"
  # Your AzuraCast API Key (loaded from .env)
  api_key: "${AZURACAST_API_KEY}"
  # The unique identifier (ID) of the station to monitor.
  station_id: 1
  # The user-friendly name of your station for alerts.
  station_name: "Pinoy Seoul Radio"
  # The time to send the daily listener summary report (24-hour format).
  daily_summary_time: "21:00"

# -----------------------------------------------------------------------------
# Nginx Proxy Manager Integration
# -----------------------------------------------------------------------------
nginx_proxy_manager:
  # The public URL for your Nginx Proxy Manager instance.
  # This will be used for a button in SSL expiry alerts.
  url: "https://proxy.pinoyseoul.com:81"

# -----------------------------------------------------------------------------
# Portainer Integration
# -----------------------------------------------------------------------------
portainer:
  # The public URL for your Portainer instance.
  # This is used for the "View in Portainer" button in alerts.
  url: "https://admin.pinoyseoul.com"

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
logging:
  # The minimum level of messages to log (e.g., DEBUG, INFO, WARNING, ERROR).
  level: "INFO"
  # The directory where log files for this monitor will be stored.
  log_dir: "./logs"
  # The number of days to keep old log files before deleting.
  max_days: 7