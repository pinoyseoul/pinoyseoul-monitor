# This is the central configuration file for the PinoySeoul Monitoring service.

# -----------------------------------------------------------------------------
# General Settings
# -----------------------------------------------------------------------------
general:
  # The local timezone for the monitor. This ensures that scheduled reports
  # are sent at the correct local time, regardless of the server's timezone.
  # A list of valid timezones can be found here: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  timezone: "Asia/Manila"

# -----------------------------------------------------------------------------
# Google Chat Integration
# -----------------------------------------------------------------------------
google_chat:
  # The webhook URL for the Google Chat room where alerts will be sent.
  # The value "${...}" will be loaded from the corresponding environment variable.
  webhook_url: "${GOOGLE_CHAT_WEBHOOK_URL}"

# -----------------------------------------------------------------------------
# Global Integration URLs
# -----------------------------------------------------------------------------
integrations:
  portainer_url: "https://admin.pinoyseoul.com"
  nginx_proxy_manager_url: "https://proxy.pinoyseoul.com:81"

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
logging:
  level: "INFO"
  log_dir: "./logs"
  max_days: 7

# -----------------------------------------------------------------------------
# Monitor Definitions
# -----------------------------------------------------------------------------
monitors:
  # --- Docker Health Check ---
  docker:
    enabled: true
    schedule_minutes: 5
    alert_on_recovery: false # Set to true to receive "ALL CLEAR" and "Auto-Recovery" notices.
    options:
      container_name_mapping:
        azuracast: "Radio Platform"
        azuracast_web: "Radio Platform - Website"
        azuracast_stations: "Radio Platform - Streaming"
        azuracast_mariadb: "Radio Platform - Database"
        azuracast_redis: "Radio Platform - Cache"
        kimai: "Kimai Time Tracking"
        kimai_db: "Kimai Database"
        docuseal: "DocuSeal Document System"
        docuseal_db: "DocuSeal Database"
        wekan: "Wekan Project Board"
        wekan_db: "Wekan Database"
        dolibarr: "Dolibarr CRM"
        dolibarr_db: "Dolibarr Database"
        npm: "Nginx Proxy Manager"
        portainer: "Portainer Admin Panel"

  # --- SSL Certificate Check ---
  ssl:
    enabled: true
    schedule_minutes: 1440 # Run once every 24 hours
    alert_on_recovery: true
    options:
      domains:
        - pinoyseoul.com
        - radio.pinoyseoul.com
        - admin.pinoyseoul.com
        - office.pinoyseoul.com
        - time.pinoyseoul.com
        - projects.pinoyseoul.com
        - legal.pinoyseoul.com
      alert_days:
        critical: 7
        warning: 30

  # --- Backup Health Check ---
  backup:
    enabled: true
    schedule_minutes: 1440 # Run once every 24 hours
    alert_on_recovery: true
    options:
      rclone_remote: "gdrive:PinoySeoul-Backups"
      min_size_mb: 50
      max_age_hours: 25

  # --- Daily Listener Summary ---
  listener_summary:
    enabled: true
    run_at_time: "21:00" # Specific time to run this summary
    options:
      station_name: "Pinoy Seoul Radio"
      api_base_url: "https://radio.pinoyseoul.com/api"
      api_key: "${AZURACAST_API_KEY}"
      station_id: 1

  # --- Daily System Health Summary ---
  daily_summary:
    enabled: true
    run_at_time: "09:00" # Specific time to run this summary
    options: {}